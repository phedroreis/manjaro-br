<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="pt-br" xml:lang="pt-br">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="pt-br" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<title>Manjaro Brasil &bull; Ver artigo - Como copiar a imagem de um HD para outro usando o Linux</title>




<link href="styles/we_clearblue/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.css" rel="stylesheet" type="text/css" media="screen, projection" />
<link rel="stylesheet" type="text/css" href="images/jgrowl/jgrowl_v.css" />



<link rel="alternate" type="application/atom+xml" title="feeds - Manjaro Brasil" href="default.html" /><link rel="alternate" type="application/atom+xml" title="feeds - Notícias" href="default.html" /><link rel="alternate" type="application/atom+xml" title="feeds - Todos os fóruns" href="default.html" /><link rel="alternate" type="application/atom+xml" title="feeds - Novos tópicos" href="default.html" /><link rel="alternate" type="application/atom+xml" title="feeds - Tópicos ativos" href="default.html" />





<style>
#toTop {
   width:90px;
    #border:1px solid #ccc;
    background:#16a085;
    text-align:center;
    padding:5px;
   position:fixed; /* this is the magic */
    bottom:10px; /* together with this to put the div at the bottom*/
    right:14px;
    cursor:pointer;
    display:none;
    color:#fdfdfd;
    font-family:"Trebuchet MS",Helvetica,Arial,sans-serif;
    font-size:11px;
}

#main-navigation #searchbox {
	background: url("styles/we_clearblue/theme/images/navbar_search.gif") no-repeat scroll 0 0 transparent;
    display: block;
    float: right;
    height: 30px;
	margin-left: 10px;
    margin-top: 8px;
    position: static;
    width: 150px;
	border-left: 1px solid transparent;
}

#main-navigation #searchbox fieldset {
    border: medium none;
    padding-top: 6px;
}

#main-navigation #searchbox input {
    background-color: transparent !important;
    background-image: url("styles/we_clearblue/theme/images/search_back.gif");
    background-repeat: no-repeat;
    border: medium none !important;
    font-size: 1.1em !important;
    height: 19px !important;
    margin-left: 10px;
    padding-top: 0;
    width: 125px;
}
</style>






<link rel="stylesheet" type="text/css" media="all" href="styles/abbcode/abbcode.css?3.0.12" />



<style type="text/css">.attach-image img { border: 0; }</style>

</head>
<body id="phpbb" class="section-kb ltr">
<div id="wrapper">
<div id="header">
<div id="account">
<ul class="leftside">
<li>Bem-vindo: 18 Mar 2021, 04:18</li>
</ul>
<ul class="rightside">
<li><a href="default.html" title="Registrar">Registrar</a></li>
<li><a href="default.html" title="Entrar" accesskey="l">Entrar</a></li>
</ul>
</div>
<a href="portal.html" title="Manjaro Brasil">
<div id="illustration">
<div id="site-description"><img src="images/manjaro_logo.png" alt="logo">
<p></p>
</div>
</div>
</a>
<div class="top_box">
<h1 class="titulo">Download aqui</h1>
<div class="bloco">
<h4><a href=" https://manjaro.org/get-manjaro/" title="Manjaro Linux 17.1.8" target="_blank"><img src="styles/we_clearblue/theme/images/link_icon.png" alt="Manjaro Linux 17.1.8" />&nbsp; Manjaro Linux 17.1.8</a></h4>
<span class="date">16 ABR 18</span>
</div>
</div>
<center>
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td>
<div id="main-navigation">
<ul id="primary-navigation" class="leftside">
<li><a href="portal.html" title="Portal">Portal</a></li>
<li><a href="index.html" title="Fóruns">Fóruns</a></li>
<li><a href="default.html" title="Regras" style="color: #34495E">Regras</a></li>
<li><a href="https://webchat.freenode.net/?channels=manjaro-br" target="_blank" title="IRC">IRC</a></li>
<li><a href="https://pastebin.com/" target="_blank" title="Paste">Paste</a></li>
<li><a href="kb.html" title="Knowledge Base">Knowledge Base</a></li>
<li><a href="moonmoon/index.html" target="_blank" title="Manjaro Brasil planet">Manjaro Brasil planet</a></li>
<li id="searchbox">
<fieldset>
<form method="get" action="pesquisar.php">
<p>
<input name="q" id="q" type="search" size="40" value="Buscar com Google" onclick="if(this.value=='Buscar com Google')this.value='';" onblur="if(this.value=='')this.value='Buscar com Google';" />
</p>
</form>
</fieldset>
</li>
</ul>
</div>
</td></tr></tbody>
</table>
</center>
</div>
<div id="container">
<table style="width: 100%">
<tr>
<td id="left_menu" style="width: 180px; vertical-align: top;">
<div class="post bg4">
<div class="inner">
<span class="corners-top"><span></span></span>
<div class="left_menu_title">Autor <a href="kb.html"><img src="styles/we_clearblue/theme/images/feed.gif" width="14" height="14" alt="Subscrever este autor" title="Subscrever este autor" /></a></div>
<dl class="user_menu">
<dt>
<a href="default.html"><img src="download/396_1366782921.jpg" width="74" height="128" alt="Avatar do usuário" /></a><br />
<a href="default.html" style="color: #00AAD4;" class="username-coloured">josh</a>
</dt>
<dd>Aprendiz<br /><img src="images/ranks/rank_1.png" alt="Aprendiz" title="Aprendiz" /></dd>
<dd>&nbsp;</dd>
<dd><strong>Artigos:</strong> <a href="kb.html" title="Artigos do mesmo autor">2</a></dd><dd><strong>Registro:</strong> 20 Mar 2013, 23:08</dd><dd><strong>Localização:</strong> São Paulo - Francisco Morato</dd>
<dd><strong>Distro utilizada:</strong> Manjaro</dd>
<dd><strong>Versão:</strong> 0.8.4</dd>
<dd><strong>Ambiente:</strong> OpenBox</dd>
<dd>
<ul class="profile-icons">
<li class="yahoo-icon"><a href="https://edit.yahoo.com/config/send_webmesg?.target=swiftt306%40yahoo.com&amp;.src=pg" title="YIM"><span>YIM</span></a></li>
</ul>
</dd>
</dl>
<span class="corners-bottom"><span></span></span>
</div>
</div>
<div class="post bg4">
<div class="inner">
<span class="corners-top"><span></span></span>
<div class="left_menu_title">Pesquisar artigos</div>
<form id="kb_searchform" method="post" action="kb.html?i=search&amp;cat_ids[]=1">
<fieldset>
<input name="q" id="kb_keywords" type="text" style="width: 128px" maxlength="128" title="Pesquisar por palavras-chaves" class="inputbox search" value="Pesquisar…" onclick="if(this.value=='Pesquisar…')this.value='';" onblur="if(this.value=='')this.value='Pesquisar…';" />
<input class="button2" value="Pesquisa" type="submit" /><br />
</fieldset>
</form>
<span class="corners-bottom"><span></span></span>
</div>
</div>
<div class="post bg4">
<div class="inner">
<span class="corners-top"><span></span></span>
<div class="left_menu_title">Exportar artigo</div>
<div style="padding-bottom: 3px;" class="user_menu">
<div><a href="kb.html" title="Exportar para word"><img src="styles/we_clearblue/theme/images/word.jpg" width="14" height="14" alt="Exportar para word" title="Exportar para word" /> Exportar para word</a></div>
</div>
<span class="corners-bottom"><span></span></span>
</div>
</div>
<div class="post bg4">
<div class="inner">
<span class="corners-top"><span></span></span>
<div class="left_menu_title">Compartilhar em</div>
<div style="padding-bottom: 3px;">
<div>
<ul class="linklist">
</ul>
<strong></strong>
<div class="addthis_toolbox">
<div class="custom_images">
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;amp;s=blogger&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/blogger.png" width="24" height="24" alt="Blogger" title="Blogger " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=delicious&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/delicious.png" width="24" height="24" alt="Delicioso" title="Delicioso " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=digg&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/digg.png" width="24" height="24" alt="Digg" title="Digg " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=facebook&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/facebook.png" width="24" height="24" alt="Facebook" title="Facebook " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=friendfeed&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/friendfeed.png" width="24" height="24" alt="Feed amigo" title="Feed amigo " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=google&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/Google.png" width="24" height="24" alt="Google" title="Google " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=linkedin&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/linkedin.png" width="24" height="24" alt="Linked In" title="Linked In " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=live&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/live.png" width="24" height="24" alt="Live" title="Live " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=mixx&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/mixx.png" width="24" height="24" alt="Mixx" title="Mixx " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=myspace&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/myspace.png" width="24" height="24" alt="MySpace" title="MySpace " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=netvibes&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/netvibes.png" width="24" height="24" alt="Netvibes" title="Netvibes " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=reddit&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/reddit.png" width="24" height="24" alt="Reddit" title="Reddit " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=stumbleupon&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/stumbleupon.png" width="24" height="24" alt="Stumble Upon" title="Stumble Upon " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=technorati&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/technorati.png" width="24" height="24" alt="Technorati" title="Technorati " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=twitter&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/twitter.png" width="24" height="24" alt="Twitter" title="Twitter " /></a>
<a href="https://www.addthis.com/bookmark.php?pub=&amp;v=250&amp;source=men-250&amp;s=wordpress&amp;url=kb.html?a=85&amp;title=Como copiar a imagem de um HD para outro usando o Linux&amp;content=Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito."><img src="styles/we_clearblue/theme/images/social_bookmarking/wordpress.png" width="24" height="24" alt="Wordpress" title="Wordpress " /></a>
</div>
</div>
</div>
</div>
<span class="corners-bottom"><span></span></span>
</div>
</div>
</td>
<td style="vertical-align: top; padding-left: 10px;">&nbsp;
<div id="a" class="post bg1">
<div class="inner">
<span class="corners-top"><span></span></span>
<div class="postbody" style="width: 100%;">
<ul class="profile-icons">
<li class="info-icon"><a href="kb.html" title="Ver histórico do artigo"><span>Ver histórico do artigo</span></a></li>
</ul>

<h3 class="first"><a href="	">Como copiar a imagem de um HD para outro usando o Linux</a></h3>
<strong>ID do artigo:</strong> 85<br />
<strong>Adaptado por:</strong> <a href="default.html" style="color: #00AAD4;" class="username-coloured">josh</a><br />
<strong>Adaptado em:</strong> 27 Mar 2013, 20:19<br />
<strong>Descrição do artigo:</strong> Recentemente precisei fazer uma copia de um HD para outro por suspeitas de que o primeiro estava com defeito.<br />
<div class="content">
<dl class="codebox">
<dt>Link externo para este artigo:</dt>
<dd>
<code>kb.html?a=85</code>
</dd>
</dl>
</div>
<hr />
<div class="pagination">
</div>
<div class="content" style="text-align: justify;"><img src="http://www.aprocura.com.br/wp-content/uploads/2012/08/Como-Trocar-de-HD-Sem-Perder-os-Dados.jpg" alt="Imagem" class="resize_me" /><br /><br />Imagine que você acabou de instalar um Linux, configurou serviços, criou contas de usuários, instalou e configurou uma ou outra aplicação adicional baixada da internet. Agora, imagine que do seu lado tem outra maquina igualzinha e você vai ter que fazer a mesma coisa nela, tudo de novo?<br /><br />Provavelmente no mínimo um suspiro de resignação você vai soltar antes de começar. Agora imagine que você não tem SO uma, mas cinquenta maquinas ali do lado esperando pelo mesmo tratamento... Dai você não vai mais estar suspirando, ira isso sim atrás de alguma aplicação capaz de gerar e copiar imagens de HDs, como o Ghost(R) por exemplo. E talvez nem saiba você que já possui uma ferramenta que muito provavelmente poderá resolver seu problema na linha de comando do Linux mesmo. Essa solução, ou melhor, comando, tem o simples e pequeno nome de dd (igual ao comando para apagar linhas no vi). Se você visitar a man page do dd, recebera a explicação de que ele copia e converte um arquivo, da entrada padrão para a saída padrão a não ser que especificado em contrario. Mais um caso de man page que fala muito pouco em termos práticos, mas vamos esmiuçar um pouco... Você pode especificar outra entrada ou saída através das opções &quot;if&quot; e &quot;of&quot;. Sendo que:<br /><br />if = especifica o fluxo de entrada do comando<br />of = especifica o fluxo de saída do comando<br /><br />Assim e que se você executar o comando<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>dd if=texto.txt of=texto2.txt</code></dd></dl><br /><br />Terá algo equivalente a se tivesse executado<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>cp texto.txt texto2.txt</code></dd></dl><br /><br />O legal disso e que, se você especificar um dispositivo de blocos como fluxo de entrada, fará uma leitura, bit a bit, desse dispositivo. Relembrando, um dispositivo de bloco pode ser um HD, uma partição de um HD, um CD, um disquete, ou Pen Drives ou até mesmo um HD externo... E se você especificar como fluxo de saída um dispositivo de blocos, estará escrevendo nesse dispositivo os bytes que vierem pela entrada. Para dar um exemplo que vai deixar isso bem claro, vamos copiar um Pen Drive usando o dd:<br /><br />1. Insira o Pen Drive na entrada USB, mas não monte o seu sistema de arquivos<br />2. Execute o comando: <code style="font-family: Monaco, 'Andale Mono', 'Courier New', Courier, monospace; font-size: 0.9em; font-style: normal; line-height: 1.3em; background: #FFF; border: 1px solid #C9D2D8; padding: 0 3px; color: #e67e22; display: inline;">dd if=/dev/sdb1 of=imagem.img</code><br />3. Troque o Pen Drive por outro não gravado<br />4. Execute o comando: <code style="font-family: Monaco, 'Andale Mono', 'Courier New', Courier, monospace; font-size: 0.9em; font-style: normal; line-height: 1.3em; background: #FFF; border: 1px solid #C9D2D8; padding: 0 3px; color: #e67e22; display: inline;">dd if=imagem.img of=/dev/sdb1</code><br /><br />No passo 2, o dd leu o dispositivo de blocos /dev/sdb1 ((pen drive) e jogou, byte a byte, tudo que conseguiu ler num arquivo chamado imagem.img. Esse arquivo será uma imagem exata do sistema de arquivos contido no pen drive, com tabelas de alocação de arquivos e tudo mais. Quando executou o passo 4, você jogou esse conteúdo num outro pen drive, bit a bit. O resultado será que o segundo pen drive será uma copia perfeita do primeiro. E detalhe, se você tivesse duas unidades de pen drives (muito comum nas maquinas de hoje, mas.....) poderia ter feito diretamente:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>dd if=/dev/sdb1 of=/dev/sdb2</code></dd></dl><br /><br />Sendo /dev/sdb1 a unidade que contem o pen drive original. Se duvida que funcione, pode pegar um Pen Drivezinho e experimentar a vontade, eu espero :) Muito bem, agora imagine que ao invés de especificar dispositivos relativos a unidades de USB, tivéssemos especificado dispositivos como /dev/hda ou /dev/hdb, teria funcionado? SIM, pode ter certeza disso, e e aqui que voltamos ao problema de copiar a imagem de um HD. Retornando ao cenário inicial, você tem uma maquina na qual acabou de instalar Linux, e quer jogar a imagem daquela instalação para outro HD igual ao da primeira maquina. Você vai precisar colocar os dois HDs em uma maquina de onde você já possa dar boot num Linux que não seja o do HD recém instalado, pois nenhum dos sistemas de arquivos no HD a ser lido pode estar montado. Então o que você pode fazer e instalar esses hds em /dev/hdc (ide2 master) e /dev/hdd (ide2 slave) numa maquina qualquer que já tenha um HD com Linux bootável (ou então use um desses live CD para dar boot) e execute:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>dd if=/dev/hdc of=/dev/hdd</code></dd></dl><br /><br />E uma copia exata do HD no ide2 master será feita no ide2 slave. Aqui cabe um aviso importante sobre Linux em geral: se você instalou o Linux com o HD no primário master, e muda-lo para primário slave ou secundário master, o sistema não vai dar boot. E ,obviamente, uma copia desses sistema também não. Ou seja, quando for instalar esses hds numa maquina, certifique-se de que estão no mesmo ide e com a mesma configuração (master ou slave) com que aquele Linux foi instalado. Agora, a boa noticia e que a principio não importa o SO que você tem no HD original. O dd não faz discriminação :) Vai copiar bit a bit o que estiver no primeiro HD para o segundo. Legal né?<br /><br />Bom, isto aqui ja quebra um galho de quem tem que instalar varias maquinas em serie, e essas maquinas em geral costumam ser iguais entre si. Mas e se forem maquinas diferentes, com hds de capacidades diferente?<br /><br /><span style="font-style: italic">HDs de diferentes tamanhos</span><br /><br />Primeiro entra uma regra simples e lógica, se você quer colocar um sistema de arquivos dentro de um dispositivo, este tem que ter espaço para tanto. Ou seja, sempre copie do HD menor para o HD maior, nunca o contrario. No mais, você pode utilizar o procedimento que foi feito ate agora, que a única consequência e que sobrara espaço não particionado ao final do HD de destino. O qual você sempre pode, posteriormente, particionar e especificar um ponto de montagem para ele. Uma outra situação e que você pode desejar querer mover aquele Linux para um outro HD com outro esquema de particionamento. Aqui entra de novo aquela característica do Linux: se você especificou que o raiz vai ficar, por exemplo, em /dev/hda3 durante a instalação no HD original, no novo HD este também vai ter que estar em /dev/hda3. Se especificou que o /boot tem que ficar em /dev/hda2, também tem que ficar em /dev/hda2 no novo HD. Mas a boa noticia e que nada impede essas partições de estarem alguns blocos mais a frente ou mais para trás, o que não pode e haver mais partições antes das partições a serem copiadas em relação ao HD original. Isto posto, nada impede que você faca algo como:<br /><br /><code style="font-family: Monaco, 'Andale Mono', 'Courier New', Courier, monospace; font-size: 0.9em; font-style: normal; line-height: 1.3em; background: #FFF; border: 1px solid #C9D2D8; padding: 0 3px; color: #e67e22; display: inline;">dd if=/dev/hdc2 of=/dev/hdd2</code> (admitindo que os hds estão no ide2 master e slave respectivamente)<br /><br />E repetindo o comando para quantas partições formarem seu sistema, não esquecendo a de swap claro. De novo chamando a atenção, note que foi copiado hdd2 para hdd2, ou seja, segunda partição para segunda partição. Mas não há impedimento que no primeiro HD a primeira partição tenha 160GB enquanto que no novo HD a primeira partição tenha 500G, fazendo com que a partição hdd2 fique bem adiante.<br /><br />Note que, neste procedimento, você não copiou o boot loader para o segundo HD, ou seja, ele não vai dar boot logo de cara. Você vai ter que instala-lo manualmente. Se for o lilo, e se você tiver o arquivo de configuração do boot loader a ser instalado no novo HD no seu diretório atual do Linux que esta usando para executar a copia, você pode fazer algo como:<br /><br /><code style="font-family: Monaco, 'Andale Mono', 'Courier New', Courier, monospace; font-size: 0.9em; font-style: normal; line-height: 1.3em; background: #FFF; border: 1px solid #C9D2D8; padding: 0 3px; color: #e67e22; display: inline;">lilo -C arquivo_de_configuração -b /dev/hdd</code><br /><br />O arquivo de configuração pode bem ser o /etc/lilo.conf copiado a partir do HD original, que você montou num ponto qualquer antes de processar a copia, SO para pegar esse arquivo, e logo depois desmontou. Não e meu objetivo entrar em detalhes do comando Mountain aqui, a não ser uma pequena dica mais a frente. Se você não tem familiaridade com esse comando, recomenda-se um pouco de estudo em cima dele e também sobre como o Linux trata sistemas de arquivos antes de tentar algo deste material.<br /><br />Uma ultima dica: eventualmente você pode ter problemas por consequência do lilo no Linux em que você executou a copia ser uma versão diferente daquele usado pelo Linux que você esta copiando. Pior, você pode ter usado para boot um Linux que SO usa grub (ou seja, você tentou o comando lilo e recebeu a clássica mensagem de &quot;command not found&quot;). Não se desespere, você pode montar o HD original num ponto de montagem qualquer, tal como no comando:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>mount -t ext4 /dev/hdc1 /mnt/linuxorigem</code></dd></dl><br /><br />Usar co comando chroot para mudar temporariamente a referencia da raiz do seu sistema de arquivos:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>chroot /mnt/linuxorigem</code></dd></dl><br /><br />E agora que seu / esta temporariamente mudado para /mnt/linuxorigem, executar o comando:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>/sbin/lilo -b /dev/hdd</code></dd></dl><br /><br />Depois e SO dar exit para sair da &quot;gaiola&quot; onde se meteu :)<br />Possivelmente também poderia ter funcionado se tivesse feito algo como:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>/mnt/linuxorigem/sbin/lilo -C /mnt/linuxorigem/etc/lilo.conf -b /dev/hdd</code></dd></dl><br /><br />Tudo depende de ate que ponto as bibliotecas do Linux que usou para dar boot são diferentes daquelas que o lilo do HD origem espera encontrar para sua execução. Agora, se quer realmente se garantir contra sustos e não ter que fazer essas acrobacias, use como boot um Linux idêntico aquele instalado no HD origem, e o primeiro exemplo de uso do lilo não te dará problemas. Note que esta preocupação existe apenas para gerar copias bootáveis de hds onde você copiou partições em separado. Copiando hds inteiros, como no primeiro exemplo, faz com que passe a não importar nem o SO ou SOs que estão ali. Você também não precisara se preocupar se a partição que copiou contem apenas dados, e não um SO que precisa dar boot. Por fim, e óbvio que se a maquina para a qual o HD recém escrito com o dd tiver componentes de hardware diferentes daquela onde o Linux do HD original foi instalado, você terá que reconfigurar vídeo, som, rede, e tantos quantos forem os componentes de hardware que diferem.<br /><br /><span style="font-style: italic">Falando em outros SOs, não dá problema mesmo?</span><br /><br />Infelizmente eu não tenho como ter testado com todos os SOs que existem pelo globo (e ainda bem que hoje temos tantas opções, não? :) ). Mas vamos aos casos que já testei:<br /><br />HD SO com Linux: normal, já vale tudo o que falei ate aqui sem por nem tirar nada.<br /><br />HDs iguais, no original tem Linux e Windows: também sem problemas se feito como na primeira sessão deste texto.<br /><br />HDS diferentes, no original tem Linux e Windows: atenção especial apenas para a partição Windows. Apesar de que isto e uma matéria sobre Linux, não me custa dar um conselho: execute o scandisk e o defrag antes de tentar a operação. Se o Windows e recém instalado, você ate pode pular esses passos, mas eu tive uma experiência recente com um Windows 7 já em uso há algum tempo, em que ele travava no HD para o qual foi copiado logo após o boot. Executar aquelas duas aplicações antes de fazer a copia resolveu meu problema. A propósito, SO testei isso ate hoje com Windows da linha XP /vista /7 usando NTFS. Nunca tentei com sistemas de arquivos fat, fat32 para ver se funciona.<br /><br /><span style="font-style: italic">Da para guardar a imagem num arquivo?</span><br /><br />Lembra do exemplo da copia do Pen Drive? Igual em tudo, mas você vai ter que ter espaço para guardar o arquivo criado, que vai ter o mesmo tamanho que a partição/dispositivo que você copiou. Isso mesmo que parte do sistema de arquivos sendo copiado esteja vazio. Ou seja, se você esta copiando uma partição de 160GB, mas ali dentro a soma dos arquivos guardados tem SO 100MB, ainda assim o arquivo que você vai gerar vai ter 160GB. O dd não entende sistemas de arquivos, tudo que ele entende são fluxos de bytes, assim ele lê a partição inteira, ate onde não tem gravado nada, e guarda. Isto posto, e SO executar:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>dd if=/dev/hdb4 of=particao4.img</code></dd></dl><br /><br />E será criado o arquivo particao4.img, que conterá uma imagem exata do sistema de arquivos naquela partição. Agora, o dispositivo conectado em /dev/hdb pode ate ser desconectado e, se mais tarde quiser restaurar aquela partição em outro HD, e SO fazer:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>dd if=particao4.img of=/dev/hdb4</code></dd></dl><br /><br />O mesmo vale para copias de hds inteiros. O problema de disponibilidade de espaço em disco pode ser diminuído com o auxilio do gzip:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>dd if=/dev/hdb | gzip &gt; imagem_do_hd.img.gz</code></dd></dl><br /><br />Esse comando gera a imagem do HD, mas que agora estará compactada pelo gzip. Obviamente para utiliza-la você terá que descompacta-la:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>gzip -d -c imagem_do_hd.img.gz | dd of=/dev/hdb</code></dd></dl><br /><br />A flag -c faz o gzip mandar os dados descompactados para a saída padrão ao invés de para um arquivo sem a extensão .gz, como faria normalmente. Não esqueça que o dd, como dito no inicio do artigo, copia normalmente a partir da entrada padrão. Por isso aqui não se especificou o parâmetro if= . O preço que se paga neste ultimo exemplo, claro, e um enorme acréscimo de tempo para a realização da compactação e descompactação. Uma outra aplicação interessante a que isto nos leva, embora não esteja relacionada a copia de hds, e gerar uma imagem ISO a partir de um DVD já gravado, para depois ser usada na gravação de um novo DVD. Para fazer isso execute como no exemplo:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>dd if=/dev/cdrom of=Manjaro_cd1.iso</code></dd></dl><br /><br />Depois, e SO passar o arquivo gerado como argumento do cdrecord ou do seu programa de gravação favorito. E uma ultima dica interessante: Sabia que e possível montar esses arquivos que são copias de sistemas de arquivos, como se fossem um dispositivo? Digamos que, no caso anterior, você queira dar uma olhada nos arquivos que o DVD continha, mas o DVD criou pernas e sumiu e você SO ficou com o arquivo de imagem :) Não e preciso gravar o DVD para depois monta-lo, pode-se perfeitamente montar o próprio arquivo de imagem como em:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Selecionar todos</a></dt><dd><code>mount -t iso9660 Manjaro_cd1.iso /mnt/dvdimg -o loop</code></dd></dl><br /><br />O segredo esta justamente em passar o parâmetro -o loop no final do comando mount. Se não funcionar, verifique se o seu kernel foi compilado com suporte a loopback device. Um jeito de checar isso e testar se e possível carregar o modulo loop (embora esse tipo de suporte pode ter sido compilado embutido no kernel, mas se assim fosse você não teria problemas e nem teria que fazer esse teste). Por fim, para encerrar esse pequeno desvio (e praticamente o artigo), note que você não esta limitado a fazer isso so com imagens geradas a partir de DVDs. Pode ser feito com qualquer imagem desde que você especifique o sistema de arquivos correto com -t. Obviamente, essas imagens são montadas sempre como somente leitura. Nao da para modificar o conteúdo de um arquivo de imagem usando essa técnica. Para encerrar, note que as técnicas apresentadas aqui resolvem situações simples, mas havendo a necessidade de algo mais &quot;profissional&quot;, realmente e melhor procurar por um aplicativo dedicado a atender esse tipo de necessidade.<br /><br /><span style="font-style: italic">Mas de onde você tirou isto?</span><br /><br />Acontece que instalo Linux desde 2007 dos CDs bootáveis, e nessa época eu usava Slackware traziam era uma imagem dos disquetes de boot, e um aplicativo para shell chamado rawwrite (ou era rawrite?) que exatamente escrevia a imagem num disquete. Me perguntando na época como poderia proceder para gravar essas imagens em um disquete se meu SO já fosse Linux, pesquisei a documentação de texto dentro do CD e la estava a orientação de como usar o dd para isso. A partir dai, foi so experimentar e expandir o conceito principal se pode usar isso infinitamente ah algum tempo eu trabalhava em uma escola de informática e la tinha 90 computadores isso mesmo 90 e eu dava aula de Hardware e também era técnico de la então eu fazia isso os micros tinham o mesmo hardware então pra mim era fácil carregava um DVD com a imagem da ISO e depois usava um Livecd e era só mandar bala hehehe...<br /><br />Aqui eu vou deixar como usar o comando mount e como identificar o unidade de disco<br /><br />/dev/sda1 e sda4 são meus HDs<br /><br />/dev/sr0 é meu leitor de DVD<br /><br />/dev/sdc1 é meu Pen Drive<br /><br />Vocês podem ver a imagem que eu fiz e ditei no GIMP<br /><br /><img src="https://imageshack.us/a/img42/5586/mounteditado.jpg" alt="Imagem" class="resize_me" /><br /><br /><span style="font-weight: bold">Referência</span><br /><br />Os créditos por este texto são para josh.<br /><br /><span style="font-weight: bold">Mudanças</span><br /><br />- josh, 27/03/2013, correções pontuais.<br />- Holmes, 27/03/2013, adequar algumas coisas no texto.<br />- Holmes, 27/03/2013, corrigir o link da imagem.<br /><br /><p><b><font size="1" color="#000000">Conteúdo distribuído sob a licença GNU FDL</font></b></p></div>
<strong></strong>
<div class="notice">Este artigo foi <a href="kb.html">editado</a> por <a href="default.html" style="color: #803300;" class="username-coloured">Holmes</a> em 28 Mar 2013, 10:48</div>
<br />
</div>
<span class="corners-bottom"><span></span></span></div>
</div>
<hr />
</td>
</tr>
</table>
</div>
<center>
<div id="footer">
<div id="footer-inner">
<div>
<p>Produzido por: <a href="https://www.phpbb.com/" onclick="window.open(this.href);return false;">phpBB</a> &reg; Forum Software &copy; phpBB Group</p>
<p>Produzido por: MOD Knowledge Base &copy; <a href="http://kb.softphp.dk" onclick="window.open(this.href);return false;">Softphp</a><br />Traduzido por: <a href="http://www.suportephpbb.com.br">Suporte phpBB</a><br /><a href="http://www.phpbb-seo.com/" title="Search Engine Optimization"><img src="images/phpbb-seo.png" alt="phpBB SEO" /></a></p>
<br />
<p>Hospedagem cedida por: Igor Isaias Banlian</p>
<p>O Manjaro Brasil usa o estilo desenvolvido por <a href="http://weeb.pl/" onclick="window.open(this.href);return false;">weeb</a> e modificado por Holmes e Freax</p>
<p>Todo conteúdo do Manjaro Brasil está licenciado pela <a href="https://www.gnu.org/licenses/fdl.html">licença GNU FDL</a></p>
</div>
</div>
<div id="footer-fixed"></div>
</div>
</center>
</div>
<div>
<a id="bottom" name="bottom" accesskey="z"></a>
</div>
<div id="toTop">^ Voltar ao Topo</div>

</body>
</html>